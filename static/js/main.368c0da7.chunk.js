(this["webpackJsonpprofile-image-watermarker"]=this["webpackJsonpprofile-image-watermarker"]||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(6),l=a.n(r),o=a(0),i=a.n(o),c=a(7),m=a.n(c),s=a(8),d=a.n(s),p=(a(24),a(25),["/watermarks/yang1.png","/watermarks/yang2.png","/watermarks/yang3.png"]),u="";l.a.render(i.a.createElement((function(){var e=Object(o.useState)(1),t=Object(n.a)(e,2),a=t[0],r=t[1],l=Object(o.useState)(0),c=Object(n.a)(l,2),s=c[0],g=c[1],f=Object(o.useState)(.75),E=Object(n.a)(f,2),w=E[0],h=E[1],v=Object(o.useState)(100),k=Object(n.a)(v,2),y=k[0],b=k[1];Object(o.useEffect)((function(){I(),N()}),[]);var B=function(e){g(parseInt(e.target.id))},I=function(){var e=document.getElementById("cropImage"),t=document.getElementById("cropPreview");u=new m.a(e,{aspectRatio:1,minCropBoxWidth:100,dragMode:"move",cropBoxMovable:!1,crop:d()((function(){var e=u.getCroppedCanvas({minWidth:512,imageSmoothingQuality:"high"});t.src=e.toDataURL("image/png")}),5)})},C=p.map((function(e,t){return i.a.createElement("img",{className:s===t?"watermarkOption selectedWatermark":"watermarkOption",id:"".concat(t,"watermarkChoice"),key:"watermarkoption".concat(t),alt:e,src:"/profile-image-watermarker"+e,onClick:B})})),x=function(e,t){var a=document.getElementById("resultImage"),n=document.getElementById("cropPreview"),r=document.getElementById("cropWatermark"),l=document.getElementById("cropPreview").getBoundingClientRect().width,o=r.offsetTop*(t/l),i=r.offsetLeft*(t/l);a.setAttribute("width",t),a.setAttribute("height",t),(a=a.getContext("2d")).globalAlpha=1,a.imageSmoothingQuality="high",a.drawImage(n,0,0,n.naturalWidth,n.naturalWidth,0,0,t,t),a.globalAlpha=w,a.drawImage(r,0,0,512,512,i,o,t*(y/100),t*(y/100)),a=document.getElementById("resultImage");var c=document.getElementById(e);c.setAttribute("href",a.toDataURL("image/png",1)),c.setAttribute("download","YANG2020")},N=function(){var e=0,t=0,a=0,n=0,r=document.getElementById("cropWatermark");function l(l){(l=l||window.event).preventDefault(),e=a-l.clientX,t=n-l.clientY,a=l.clientX,n=l.clientY;var o=r.width,i=document.getElementById("cropPreview").getBoundingClientRect().width,c=r.width/2,m=i-o+c,s=r.offsetTop-t>m?m+"px":r.offsetTop-t<-c?-c+"px":r.offsetTop-t+"px",d=r.offsetLeft-e>m?m+"px":r.offsetLeft-e<-c?-c+"px":r.offsetLeft-e+"px";r.style.top=s,r.style.left=d}r.onmousedown=function(e){(e=e||window.event).preventDefault(),a=e.clientX,n=e.clientY,document.onmouseup=o,document.onmousemove=l};var o=function(){document.onmouseup=null,document.onmousemove=null}};return i.a.createElement("div",{id:"ProfileImageWatermarker"},i.a.createElement("header",null,i.a.createElement("picture",null,i.a.createElement("source",{media:"(max-width: 749px)",srcSet:"/profile-image-watermarker/headerSmall.png"}),i.a.createElement("source",{media:"(min-width: 750px)",srcSet:"/profile-image-watermarker/headerLarge.png"}),i.a.createElement("img",{src:"/profile-image-watermarker/headerLarge.png",alt:"Yang2020 Banner"}))),i.a.createElement("div",{id:"infoContainer"},1===a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Show your support on social media with a Yang2020 watermarked avatar."),i.a.createElement("label",{className:"actionButton"},i.a.createElement("h2",null,i.a.createElement("i",{className:"fas fa-cloud-upload-alt"})," UPLOAD"),i.a.createElement("input",{id:"photoUpload",type:"file",accept:".png, .jpg",name:"photo",onChange:function(e){e.preventDefault();var t=e.target.files;if(0!==t.length){var a=document.querySelector("#cropImage");if(t[0].name.endsWith(".jpg")||t[0].name.endsWith(".png")){u.destroy(),a.alt="Loading Image...",a.src="";var n=new FileReader;n.onload=function(e){a.alt="Image Editor Canvas",a.src=e.target.result,I()},n.readAsDataURL(t[0])}else alert("Please select a .jpg or .png file.")}},hidden:!0}))),i.a.createElement("p",{style:{display:2===a?"block":"none"}},"Download your new Yang2020 avatar and upload to your social platforms."),i.a.createElement("div",{id:"downloadButtonContainer",style:{display:2===a?"flex":"none"}},i.a.createElement("a",{id:"downloadLinkSmall",className:"actionButton",href:"empty",download:""},i.a.createElement("h2",null,i.a.createElement("i",{className:"fas fa-cloud-download-alt"})," (128\xb2)")),i.a.createElement("a",{id:"downloadLinkLarge",className:"actionButton",href:"empty",download:""},i.a.createElement("h2",null,i.a.createElement("i",{className:"fas fa-cloud-download-alt"})," (512\xb2)")))),i.a.createElement("div",{id:"headerContainer"},i.a.createElement("h3",{className:"headerLeft"},1===a?"Drag/Zoom/Crop":"Upload your image:"),i.a.createElement("h3",{className:"headerRight"},1===a?"Preview":"Result")),i.a.createElement("div",{id:"imageContainer"},i.a.createElement("div",{className:1===a?"cropBox":"cropBoxHide"},i.a.createElement("img",{id:"cropImage",src:"/profile-image-watermarker/startImage.jpg",alt:"Editor Canvas"})),i.a.createElement("div",{className:"cropBox",style:{display:2===a?"block":"none"}},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://twitter.com/settings/profile",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("i",{className:"fab fa-twitter"})," Twitter (Use: 512\xb2)")),i.a.createElement("li",null,i.a.createElement("a",{href:"https://facebook.com/settings/profile",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("i",{className:"fab fa-facebook-f"})," Facebook (Use: ??)")),i.a.createElement("li",null,i.a.createElement("a",{href:"https://support.discordapp.com/hc/en-us/articles/204156688-How-do-I-change-my-avatar-",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("i",{className:"fab fa-discord"})," Discord (Use: 128\xb2)")),i.a.createElement("li",null,i.a.createElement("a",{href:"https://counter.social/settings/profile",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("i",{className:"fas fa-fire-extinguisher"})," CounterSocial (512\xb2)")))),i.a.createElement("div",{className:"previewBox",style:{display:1===a?"block":"none"}},i.a.createElement("img",{id:"cropPreview",src:"/profile-image-watermarker/startImage.jpg",alt:"Cropped Preview"}),i.a.createElement("img",{id:"cropWatermark",src:"/profile-image-watermarker"+p[s],style:{opacity:w,width:y+"%"},alt:"Watermark Preview"})),i.a.createElement("div",{className:"previewBox",style:{display:2===a?"block":"none"}},i.a.createElement("canvas",{id:"resultImage",alt:"Final Preview"}))),1===a&&i.a.createElement("div",{id:"watermarkOptions"},"Choose a watermark:",C),1===a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"watermarkSizeSlider"},i.a.createElement("input",{type:"range",min:"25",max:"100",value:y,className:"slider",onInput:function(e){var t=document.getElementById("cropWatermark"),a=document.getElementById("cropPreview").getBoundingClientRect().width,n=a*(y/100),r=t.offsetTop+n/2;console.log(t.getBoundingClientRect());var l=t.offsetLeft+n/2,o=r-(n=a*(e.target.value/100))/2,i=l-n/2;t.style.top=o+"px",t.style.left=i+"px",b(e.target.value)}}),i.a.createElement("p",null,"Watermark Size: ",y,"%")),i.a.createElement("div",{id:"transparencySlider"},i.a.createElement("input",{type:"range",min:"10",max:"100",value:Math.round(100*w),className:"slider",onInput:function(e){h(e.target.value/100)}}),i.a.createElement("p",null,"Watermark Transparency: ",Math.round(100*w),"%"))),i.a.createElement("div",{className:"navContainer"},1===a&&i.a.createElement("div",{className:"navButton",onClick:function(e,t){e.preventDefault(),r(2),x("downloadLinkSmall",128),x("downloadLinkLarge",512)}},i.a.createElement("p",null,"CREATE ",i.a.createElement("i",{className:"far fa-hand-point-right"}))),2===a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"navButton",onClick:function(){document.getElementById("resultImage").getContext("2d").clearRect(0,0,512,512),r(1)}},i.a.createElement("p",null,i.a.createElement("i",{className:"far fa-hand-point-left"})," BACK")))))}),null),document.getElementById("root"))},24:function(e,t,a){},9:function(e,t,a){e.exports=a(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.368c0da7.chunk.js.map