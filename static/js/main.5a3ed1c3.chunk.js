(this.webpackJsonpYANG2020watermarker=this.webpackJsonpYANG2020watermarker||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(6),l=a.n(r),o=a(0),c=a.n(o),i=a(7),m=a.n(i),s=a(8),d=a.n(s),u=(a(24),a(25),["/watermarks/yang1.png","/watermarks/yang2.png","/watermarks/yang3.png","/watermarks/mathHat.png"]),p="";l.a.render(c.a.createElement((function(){var e=Object(o.useState)(1),t=Object(n.a)(e,2),a=t[0],r=t[1],l=Object(o.useState)(0),i=Object(n.a)(l,2),s=i[0],g=i[1],f=Object(o.useState)(.75),E=Object(n.a)(f,2),h=E[0],w=E[1],v=Object(o.useState)(100),k=Object(n.a)(v,2),y=k[0],N=k[1];Object(o.useEffect)((function(){B(),x()}),[]);var b=function(e){g(parseInt(e.target.id))},B=function(){var e=document.getElementById("cropImage"),t=document.getElementById("cropPreview");p=new m.a(e,{aspectRatio:1,minCropBoxWidth:100,dragMode:"move",cropBoxMovable:!1,crop:d()((function(){var e=p.getCroppedCanvas({minWidth:512,imageSmoothingQuality:"high"});t.src=e.toDataURL("image/png")}),5)})},I=u.map((function(e,t){return c.a.createElement("img",{className:s===t?"watermarkOption selectedWatermark":"watermarkOption",id:"".concat(t,"watermarkChoice"),key:"watermarkoption".concat(t),alt:e,src:"/YANG2020watermarker"+e,onClick:b})})),C=function(e,t){var a=document.getElementById("resultImage"),n=document.getElementById("cropPreview"),r=document.getElementById("cropWatermark"),l=document.getElementById("cropPreview").getBoundingClientRect().width,o=r.offsetTop*(t/l),c=r.offsetLeft*(t/l);a.setAttribute("width",t),a.setAttribute("height",t),(a=a.getContext("2d")).globalAlpha=1,a.imageSmoothingQuality="high",a.drawImage(n,0,0,n.naturalWidth,n.naturalWidth,0,0,t,t),a.globalAlpha=h,a.drawImage(r,0,0,512,512,c,o,t*(y/100),t*(y/100)),a=document.getElementById("resultImage");var i=document.getElementById(e);i.setAttribute("href",a.toDataURL("image/png",1)),i.setAttribute("download","YANG2020")},x=function(){var e=0,t=0,a=0,n=0,r=document.getElementById("cropWatermark");function l(e){e.preventDefault(),a=e.clientX||e.targetTouches[0].clientX,n=e.clientY||e.targetTouches[0].clientY,document.onmouseup=c,document.onmousemove=o,document.ontouchend=c,document.ontouchmove=o}function o(l){e=l.clientX?a-l.clientX:a-l.targetTouches[0].clientX,t=l.clientY?n-l.clientY:n-l.targetTouches[0].clientY,a=l.clientX||l.targetTouches[0].clientX,n=l.clientY||l.targetTouches[0].clientY;var o=r.getBoundingClientRect().width,c=document.getElementById("cropPreview").getBoundingClientRect().width,i=r.width/2,m=c-o+i,s=r.offsetTop-t>m?m+"px":r.offsetTop-t<-i?-i+"px":r.offsetTop-t+"px",d=r.offsetLeft-e>m?m+"px":r.offsetLeft-e<-i?-i+"px":r.offsetLeft-e+"px";r.style.top=s,r.style.left=d}r.onmousedown=l,r.ontouchstart=l;var c=function(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}};return c.a.createElement("div",{id:"ProfileImageWatermarker"},c.a.createElement("header",null,c.a.createElement("picture",null,c.a.createElement("source",{media:"(max-width: 749px)",srcSet:"/YANG2020watermarker/headerSmall.png"}),c.a.createElement("source",{media:"(min-width: 750px)",srcSet:"/YANG2020watermarker/headerLarge.png"}),c.a.createElement("img",{src:"/YANG2020watermarker/headerLarge.png",alt:"Yang2020 Banner"}))),c.a.createElement("div",{id:"infoContainer"},1===a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Show your support on social media with a Yang2020 watermarked avatar."),c.a.createElement("label",{className:"actionButton"},c.a.createElement("h2",null,c.a.createElement("i",{className:"fas fa-cloud-upload-alt"})," UPLOAD"),c.a.createElement("input",{id:"photoUpload",type:"file",accept:".png, .jpg",name:"photo",onChange:function(e){e.preventDefault();var t=e.target.files;if(0!==t.length){var a=document.querySelector("#cropImage");if(t[0].name.endsWith(".jpg")||t[0].name.endsWith(".png")){p.destroy(),a.alt="Loading Image...",a.src="";var n=new FileReader;n.onload=function(e){a.alt="Image Editor Canvas",a.src=e.target.result,B()},n.readAsDataURL(t[0])}else alert("Please select a .jpg or .png file.")}},hidden:!0}))),c.a.createElement("p",{style:{display:2===a?"block":"none"}},"Download your new Yang2020 avatar and upload to your social platforms."),c.a.createElement("div",{id:"downloadButtonContainer",style:{display:2===a?"flex":"none"}},c.a.createElement("a",{id:"downloadLinkSmall",className:"actionButton",href:"empty",download:""},c.a.createElement("h2",null,c.a.createElement("i",{className:"fas fa-cloud-download-alt"})," (128\xb2)")),c.a.createElement("a",{id:"downloadLinkLarge",className:"actionButton",href:"empty",download:""},c.a.createElement("h2",null,c.a.createElement("i",{className:"fas fa-cloud-download-alt"})," (512\xb2)")))),c.a.createElement("div",{id:"headerContainer"},c.a.createElement("h3",{className:"headerLeft"},1===a?"Drag/Zoom/Crop":"Upload your image:"),c.a.createElement("h3",{className:"headerRight"},1===a?"Drag":"Result")),c.a.createElement("div",{id:"imageContainer"},c.a.createElement("div",{className:1===a?"cropBox":"cropBoxHide"},c.a.createElement("img",{id:"cropImage",src:"/YANG2020watermarker/startImage.jpg",alt:"Editor Canvas"})),c.a.createElement("div",{className:"cropBox",style:{display:2===a?"block":"none"}},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"https://twitter.com/settings/profile",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{className:"fab fa-twitter"})," Twitter (Use: 512\xb2)")),c.a.createElement("li",null,c.a.createElement("a",{href:"https://facebook.com/settings/profile",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{className:"fab fa-facebook-f"})," Facebook (Use: ??)")),c.a.createElement("li",null,c.a.createElement("a",{href:"https://support.discordapp.com/hc/en-us/articles/204156688-How-do-I-change-my-avatar-",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{className:"fab fa-discord"})," Discord (Use: 128\xb2)")),c.a.createElement("li",null,c.a.createElement("a",{href:"https://counter.social/settings/profile",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{className:"fas fa-fire-extinguisher"})," CounterSocial (512\xb2)")))),c.a.createElement("div",{className:"previewBox",style:{display:1===a?"block":"none"}},c.a.createElement("img",{id:"cropPreview",src:"/YANG2020watermarker/startImage.jpg",alt:"Cropped Preview"}),c.a.createElement("img",{id:"cropWatermark",src:"/YANG2020watermarker"+u[s],style:{opacity:h,width:y+"%"},alt:"Watermark Preview"})),c.a.createElement("div",{className:"previewBox",style:{display:2===a?"block":"none"}},c.a.createElement("canvas",{id:"resultImage",alt:"Final Preview"}))),1===a&&c.a.createElement("div",{id:"watermarkOptions"},"Choose a watermark:",I),1===a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"watermarkSizeSlider"},c.a.createElement("input",{type:"range",min:"25",max:"100",value:y,className:"slider",onInput:function(e){var t=document.getElementById("cropWatermark"),a=document.getElementById("cropPreview").getBoundingClientRect().width,n=a*(y/100),r=t.offsetTop+n/2,l=t.offsetLeft+n/2,o=r-(n=a*(e.target.value/100))/2,c=l-n/2;t.style.top=o+"px",t.style.left=c+"px",N(e.target.value)}}),c.a.createElement("p",null,"Watermark Size: ",y,"%")),c.a.createElement("div",{id:"transparencySlider"},c.a.createElement("input",{type:"range",min:"10",max:"100",value:Math.round(100*h),className:"slider",onInput:function(e){w(e.target.value/100)}}),c.a.createElement("p",null,"Watermark Transparency: ",Math.round(100*h),"%"))),c.a.createElement("div",{className:"navContainer"},1===a&&c.a.createElement("div",{className:"navButton",onClick:function(e,t){e.preventDefault(),r(2),C("downloadLinkSmall",128),C("downloadLinkLarge",512)}},c.a.createElement("p",null,"CREATE ",c.a.createElement("i",{className:"far fa-hand-point-right"}))),2===a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"navButton",onClick:function(){document.getElementById("resultImage").getContext("2d").clearRect(0,0,512,512),r(1)}},c.a.createElement("p",null,c.a.createElement("i",{className:"far fa-hand-point-left"})," BACK")))))}),null),document.getElementById("root"))},24:function(e,t,a){},9:function(e,t,a){e.exports=a(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.5a3ed1c3.chunk.js.map